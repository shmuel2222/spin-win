<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZA Spin & Win</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #6a11cb, #ff416c);
    color: #fff;
    text-align: center;
  }

  h1 { margin-top: 30px; }

  .wheel-container {
    position: relative;
    width: 320px;
    height: 320px;
    margin: 40px auto;
  }

  canvas {
    border-radius: 50%;
    background: #fff;
  }

  .pointer {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-bottom: 25px solid #fff;
  }

  button {
    background: #f5b400;
    border: none;
    padding: 14px 40px;
    font-size: 18px;
    border-radius: 30px;
    cursor: pointer;
  }
</style>
</head>

<body>

<h1>ZA Spin & Win Big Prizes!</h1>
<p>Your chance to win today ðŸŽ‰</p>

<div class="wheel-container">
  <div class="pointer"></div>
  <canvas id="wheel" width="320" height="320"></canvas>
</div>

<button onclick="spin()">SPIN NOW</button>

<script>
const prizes = [
  { name: "iPhone", img: "images/iphone.png", link: "https://example.com/iphone" },
  { name: "Cash", img: "images/cash.png", link: "https://example.com/cash" },
  { name: "Airtime", img: "images/airtime.png", link: "https://example.com/airtime" },
  { name: "Gift Card", img: "images/giftcard.png", link: "https://example.com/giftcard" }
];

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const center = 160;
const radius = 150;
let angle = 0;

function drawWheel() {
  const slice = (2 * Math.PI) / prizes.length;

  prizes.forEach((p, i) => {
    const start = angle + i * slice;
    const end = start + slice;

    ctx.beginPath();
    ctx.moveTo(center, center);
    ctx.arc(center, center, radius, start, end);
    ctx.fillStyle = ["#f44336", "#ffeb3b", "#4caf50", "#2196f3"][i];
    ctx.fill();

    const img = new Image();
    img.src = p.img;
    img.onload = () => {
      const mid = start + slice / 2;
      ctx.save();
      ctx.translate(
        center + Math.cos(mid) * 90,
        center + Math.sin(mid) * 90
      );
      ctx.rotate(mid + Math.PI / 2);
      ctx.drawImage(img, -25, -25, 50, 50);
      ctx.restore();
    };
  });
}

drawWheel();

function spin() {
  const spinAngle = Math.random() * 3000 + 2000;
  let start = null;

  function animate(t) {
    if (!start) start = t;
    const progress = t - start;
    angle += 0.1;
    ctx.clearRect(0, 0, 320, 320);
    drawWheel();

    if (progress < spinAngle) {
      requestAnimationFrame(animate);
    } else {
      const slice = (2 * Math.PI) / prizes.length;
      const index = Math.floor(((2 * Math.PI) - angle % (2 * Math.PI)) / slice) % prizes.length;
      window.location.href = prizes[index].link;
    }
  }

  requestAnimationFrame(animate);
}
</script>

</body>
</html>
